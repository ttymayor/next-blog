# MDX éƒ¨è½æ ¼å¯¦ä½œèªªæ˜

## ğŸ“‹ å®Œæˆçš„å·¥ä½œ

æ ¹æ“š Next.js å®˜æ–¹æ–‡æª”ï¼Œæˆ‘å·²ç¶“æˆåŠŸå»ºç«‹äº†ä¸€å€‹åŠŸèƒ½å®Œæ•´çš„ MDX éƒ¨è½æ ¼ç³»çµ±ã€‚

## âœ… å·²å¯¦ä½œçš„åŠŸèƒ½

### 1. MDX é…ç½®

#### `next.config.ts`
- âœ… å®‰è£ä¸¦é…ç½® `@next/mdx`
- âœ… é…ç½® `pageExtensions` æ”¯æ´ `.md` å’Œ `.mdx` æ–‡ä»¶
- âœ… ä½¿ç”¨ `createMDX` å‰µå»º MDX é…ç½®
- âœ… æ”¯æ´ `.md` å’Œ `.mdx` å…©ç¨®æ ¼å¼

```typescript
const withMDX = createMDX({
  extension: /\.(md|mdx)$/,
});

export default withMDX(nextConfig);
```

### 2. MDX çµ„ä»¶é…ç½®

#### `src/mdx-components.tsx`
- âœ… å‰µå»ºå¿…éœ€çš„ `mdx-components.tsx` æ–‡ä»¶
- âœ… è‡ªå®šç¾©æ‰€æœ‰ HTML å…ƒç´ çš„æ¨£å¼
- âœ… æ”¯æ´æ·±è‰²æ¨¡å¼
- âœ… ä½¿ç”¨ Tailwind CSS é€²è¡Œæ¨£å¼è¨­è¨ˆ

è‡ªå®šç¾©çš„å…ƒç´ åŒ…æ‹¬ï¼š
- æ¨™é¡Œï¼ˆh1, h2, h3ï¼‰
- æ®µè½ï¼ˆpï¼‰
- åˆ—è¡¨ï¼ˆul, ol, liï¼‰
- é€£çµï¼ˆaï¼‰
- ç¨‹å¼ç¢¼ï¼ˆcode, preï¼‰
- å¼•ç”¨ï¼ˆblockquoteï¼‰
- åœ–ç‰‡ï¼ˆimgï¼Œä½¿ç”¨ next/imageï¼‰

### 3. MDX å…§å®¹æ–‡ä»¶

#### `src/content/` ç›®éŒ„
å‰µå»ºäº†ä¸‰ç¯‡ç¤ºä¾‹æ–‡ç« ï¼š

1. **welcome.mdx** - æ­¡è¿æ–‡ç« 
   - ä»‹ç´¹éƒ¨è½æ ¼
   - å±•ç¤º MDX åŸºæœ¬åŠŸèƒ½
   
2. **about.mdx** - é—œæ–¼é é¢
   - æŠ€è¡“å †ç–Šä»‹ç´¹
   - éƒ¨è½æ ¼ç›®æ¨™
   
3. **getting-started-with-nextjs.mdx** - Next.js æ•™å­¸
   - å®Œæ•´çš„ Next.js å…¥é–€æŒ‡å—
   - åŒ…å«ç¨‹å¼ç¢¼ç¯„ä¾‹
   - å±•ç¤ºå„ç¨® Markdown èªæ³•

æ¯ç¯‡æ–‡ç« éƒ½åŒ…å«å…ƒæ•¸æ“šï¼š

```typescript
export const metadata = {
  title: 'æ–‡ç« æ¨™é¡Œ',
  author: 'ä½œè€…åç¨±',
  date: 'æ—¥æœŸ',
  description: 'æè¿°',
}
```

### 4. æ–‡ç« é é¢

#### `src/app/posts/[slug]/page.tsx`
- âœ… ä½¿ç”¨å‹•æ…‹å°å…¥è¼‰å…¥ MDX æ–‡ä»¶
- âœ… å¯¦ä½œ `generateStaticParams` é€²è¡Œéœæ…‹ç”Ÿæˆ
- âœ… å¯¦ä½œ `generateMetadata` ç”Ÿæˆå‹•æ…‹å…ƒæ•¸æ“š
- âœ… é¡¯ç¤ºæ–‡ç« æ¨™é¡Œã€ä½œè€…ã€æ—¥æœŸå’Œæè¿°
- âœ… ç¾è§€çš„æ–‡ç« ä½ˆå±€

```typescript
const { default: Post, metadata } = await import(`@/content/${slug}.mdx`);
```

#### `src/app/posts/[slug]/layout.tsx`
- âœ… ç‚ºæ–‡ç« é é¢å‰µå»ºå…±äº«ä½ˆå±€

### 5. æ–‡ç« åˆ—è¡¨é é¢

#### `src/app/posts/page.tsx`
- âœ… å¾ MDX æ–‡ä»¶ä¸­æå–å…ƒæ•¸æ“š
- âœ… æŒ‰æ—¥æœŸæ’åºæ–‡ç« ï¼ˆæœ€æ–°çš„åœ¨å‰ï¼‰
- âœ… é¡¯ç¤ºæ–‡ç« å¡ç‰‡ï¼ŒåŒ…å«æ¨™é¡Œã€æè¿°ã€æ—¥æœŸ
- âœ… æ‡¸åœæ•ˆæœå’Œéæ¸¡å‹•ç•«
- âœ… éŸ¿æ‡‰å¼è¨­è¨ˆ

### 6. é¦–é 

#### `src/app/page.tsx`
- âœ… Hero Section å±•ç¤ºéƒ¨è½æ ¼æ¨™èª
- âœ… é—œæ–¼å€å¡Šä»‹ç´¹ä½œè€…
- âœ… é¡¯ç¤ºæœ€æ–° 3 ç¯‡æ–‡ç« 
- âœ… æŠ€è¡“å †ç–Šå±•ç¤º
- âœ… ç²¾ç¾çš„æ¼¸è®Šæ¨™é¡Œ
- âœ… éŸ¿æ‡‰å¼ç¶²æ ¼ä½ˆå±€

### 7. TypeScript æ”¯æ´

#### `src/types/mdx.d.ts`
- âœ… ç‚º MDX æ¨¡çµ„æ·»åŠ é¡å‹å®šç¾©
- âœ… å®šç¾© metadata çš„é¡å‹
- âœ… ç¢ºä¿é¡å‹å®‰å…¨

### 8. å…ƒæ•¸æ“šå’Œ SEO

#### `src/app/layout.tsx`
- âœ… é…ç½®å…¨å±€å…ƒæ•¸æ“š
- âœ… æ”¯æ´å‹•æ…‹æ¨™é¡Œæ¨¡æ¿
- âœ… æ·»åŠ é—œéµå­—å’Œä½œè€…è³‡è¨Š

#### `src/app/posts/[slug]/page.tsx`
- âœ… ç‚ºæ¯ç¯‡æ–‡ç« ç”Ÿæˆå‹•æ…‹å…ƒæ•¸æ“š
- âœ… æ”¯æ´ Open Graph æ¨™ç±¤
- âœ… å„ªåŒ– SEO

### 9. æ¨£å¼å’Œä¸»é¡Œ

- âœ… ä½¿ç”¨ Tailwind CSS 4
- âœ… æ”¯æ´æ·±è‰²æ¨¡å¼
- âœ… éŸ¿æ‡‰å¼è¨­è¨ˆ
- âœ… ç¾ä»£åŒ–çš„ UI
- âœ… å¹³æ»‘çš„éæ¸¡å‹•ç•«

### 10. æ–‡æª”

å‰µå»ºäº†å®Œæ•´çš„æ–‡æª”ï¼š

- âœ… **README.md** - å°ˆæ¡ˆæ¦‚è¿°å’Œå¿«é€Ÿé–‹å§‹
- âœ… **USAGE.md** - è©³ç´°ä½¿ç”¨æŒ‡å—
- âœ… **IMPLEMENTATION.md** - å¯¦ä½œèªªæ˜ï¼ˆæœ¬æ–‡ä»¶ï¼‰

## ğŸ¯ ç¬¦åˆå®˜æ–¹æ–‡æª”çš„è¦é»

### âœ… å®‰è£ä¾è³´
```bash
npm install @next/mdx @mdx-js/loader @mdx-js/react @types/mdx
```

### âœ… é…ç½® next.config.mjs
æŒ‰ç…§æ–‡æª”é…ç½®äº† `pageExtensions` å’Œ MDX æ’ä»¶ã€‚

### âœ… æ·»åŠ  mdx-components.tsx
åœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„ï¼ˆsrc/ï¼‰å‰µå»ºäº†å¿…éœ€çš„æ–‡ä»¶ã€‚

### âœ… æ¸²æŸ“ MDX

#### ä½¿ç”¨å‹•æ…‹å°å…¥ï¼ˆæ¨è–¦ï¼‰
```typescript
const { default: Post } = await import(`@/content/${slug}.mdx`);
return <Post />;
```

### âœ… ä½¿ç”¨è‡ªå®šç¾©æ¨£å¼å’Œçµ„ä»¶

#### å…¨å±€æ¨£å¼
åœ¨ `mdx-components.tsx` ä¸­è‡ªå®šç¾©äº†æ‰€æœ‰å…ƒç´ ã€‚

#### å…±äº«ä½ˆå±€
ç‚ºæ–‡ç« é é¢å‰µå»ºäº† `layout.tsx`ã€‚

### âœ… Frontmatterï¼ˆå…ƒæ•¸æ“šï¼‰

ä½¿ç”¨ JavaScript exports è€Œä¸æ˜¯ YAML frontmatterï¼š

```typescript
export const metadata = {
  title: 'æ¨™é¡Œ',
  author: 'ä½œè€…',
  date: 'æ—¥æœŸ',
  description: 'æè¿°',
}
```

å¯ä»¥åœ¨é é¢ä¸­è¨ªå•ï¼š

```typescript
import BlogPost, { metadata } from '@/content/blog-post.mdx'
```

## ğŸ“¦ å°ˆæ¡ˆçµæ§‹

```
next-blog/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ layout.tsx          âœ… å…¨å±€ä½ˆå±€å’Œå…ƒæ•¸æ“š
â”‚   â”‚   â”œâ”€â”€ page.tsx            âœ… é¦–é ï¼ˆé¡¯ç¤ºæœ€æ–°æ–‡ç« ï¼‰
â”‚   â”‚   â””â”€â”€ posts/
â”‚   â”‚       â”œâ”€â”€ page.tsx        âœ… æ–‡ç« åˆ—è¡¨
â”‚   â”‚       â””â”€â”€ [slug]/
â”‚   â”‚           â”œâ”€â”€ layout.tsx  âœ… æ–‡ç« ä½ˆå±€
â”‚   â”‚           â””â”€â”€ page.tsx    âœ… å‹•æ…‹æ–‡ç« é é¢
â”‚   â”œâ”€â”€ components/             âœ… React çµ„ä»¶
â”‚   â”œâ”€â”€ content/                âœ… MDX æ–‡ç« 
â”‚   â”‚   â”œâ”€â”€ welcome.mdx
â”‚   â”‚   â”œâ”€â”€ about.mdx
â”‚   â”‚   â””â”€â”€ getting-started-with-nextjs.mdx
â”‚   â”œâ”€â”€ lib/                    âœ… å·¥å…·å‡½æ•¸
â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â””â”€â”€ mdx.d.ts           âœ… TypeScript é¡å‹å®šç¾©
â”‚   â””â”€â”€ mdx-components.tsx      âœ… MDX çµ„ä»¶é…ç½®
â”œâ”€â”€ next.config.ts              âœ… MDX é…ç½®
â”œâ”€â”€ package.json                âœ… ä¾è³´ç®¡ç†
â”œâ”€â”€ README.md                   âœ… å°ˆæ¡ˆèªªæ˜
â”œâ”€â”€ USAGE.md                    âœ… ä½¿ç”¨æŒ‡å—
â””â”€â”€ IMPLEMENTATION.md           âœ… å¯¦ä½œèªªæ˜
```

## ğŸš€ å»ºç½®å’Œéƒ¨ç½²

### å»ºç½®æˆåŠŸ
```bash
pnpm build
```

è¼¸å‡ºï¼š
```
Route (app)
â”Œ â—‹ /
â”œ â—‹ /_not-found
â”œ â—‹ /posts
â”” â— /posts/[slug]
  â”œ /posts/getting-started-with-nextjs
  â”œ /posts/welcome
  â”” /posts/about

â—‹  (Static)  prerendered as static content
â—  (SSG)     prerendered as static HTML (uses generateStaticParams)
```

æ‰€æœ‰é é¢éƒ½æˆåŠŸç”Ÿæˆç‚ºéœæ…‹ HTMLï¼

### éƒ¨ç½²åˆ° Vercel
å°ˆæ¡ˆå¯ä»¥ç›´æ¥éƒ¨ç½²åˆ° Vercelï¼Œç„¡éœ€é¡å¤–é…ç½®ã€‚

## ğŸ¨ ç‰¹è‰²åŠŸèƒ½

### 1. ç¾è§€çš„è¨­è¨ˆ
- ç¾ä»£åŒ–çš„ UI
- æ¼¸è®Šæ¨™é¡Œ
- å¡ç‰‡å¼ä½ˆå±€
- æ‡¸åœæ•ˆæœ

### 2. éŸ¿æ‡‰å¼
- æ”¯æ´æ‰‹æ©Ÿã€å¹³æ¿ã€æ¡Œé¢
- è‡ªé©æ‡‰ç¶²æ ¼ä½ˆå±€
- æµæš¢çš„éæ¸¡å‹•ç•«

### 3. æ·±è‰²æ¨¡å¼
- è‡ªå‹•æª¢æ¸¬ç³»çµ±ä¸»é¡Œ
- æ‰‹å‹•åˆ‡æ›
- æ‰€æœ‰å…ƒç´ éƒ½é©é…æ·±è‰²æ¨¡å¼

### 4. SEO å„ªåŒ–
- å®Œæ•´çš„å…ƒæ•¸æ“š
- Open Graph æ¨™ç±¤
- èªç¾©åŒ– HTML
- éœæ…‹ç”Ÿæˆ

### 5. é–‹ç™¼é«”é©—
- TypeScript æ”¯æ´
- ç†±é‡è¼‰
- é¡å‹å®‰å…¨
- æ¸…æ™°çš„å°ˆæ¡ˆçµæ§‹

## ğŸ“ å¦‚ä½•æ·»åŠ æ–°æ–‡ç« 

1. åœ¨ `src/content/` å‰µå»º `.mdx` æ–‡ä»¶
2. æ·»åŠ å…ƒæ•¸æ“š
3. æ’°å¯«å…§å®¹
4. æ›´æ–°ä¸‰å€‹æ–‡ä»¶ï¼š
   - `src/app/page.tsx`
   - `src/app/posts/page.tsx`
   - `src/app/posts/[slug]/page.tsx`

è©³ç´°æ­¥é©Ÿè«‹åƒè€ƒ `USAGE.md`ã€‚

## ğŸ”® æœªä¾†æ”¹é€²

å¯ä»¥è€ƒæ…®æ·»åŠ çš„åŠŸèƒ½ï¼š

- [ ] è‡ªå‹•æƒæ `content/` ç›®éŒ„
- [ ] æ¨™ç±¤å’Œåˆ†é¡ç³»çµ±
- [ ] æœå°‹åŠŸèƒ½
- [ ] RSS è¨‚é–±
- [ ] è©•è«–ç³»çµ±
- [ ] é–±è®€æ™‚é–“ä¼°ç®—
- [ ] ç›®éŒ„ï¼ˆTOCï¼‰
- [ ] èªæ³•é«˜äº®ï¼ˆrehype-pretty-codeï¼‰
- [ ] ç›¸é—œæ–‡ç« æ¨è–¦
- [ ] åˆ†é åŠŸèƒ½

## ğŸ‰ ç¸½çµ

é€™å€‹ MDX éƒ¨è½æ ¼å®Œå…¨æŒ‰ç…§ Next.js å®˜æ–¹æ–‡æª”å¯¦ä½œï¼ŒåŒ…å«äº†æ‰€æœ‰æ¨è–¦çš„æœ€ä½³å¯¦è¸ï¼š

âœ… æ­£ç¢ºé…ç½® `@next/mdx`
âœ… ä½¿ç”¨ `mdx-components.tsx` è‡ªå®šç¾©æ¨£å¼
âœ… å¯¦ä½œå‹•æ…‹å°å…¥å’Œéœæ…‹ç”Ÿæˆ
âœ… ä½¿ç”¨ JavaScript exports è™•ç†å…ƒæ•¸æ“š
âœ… å®Œæ•´çš„ TypeScript æ”¯æ´
âœ… SEO å„ªåŒ–
âœ… éŸ¿æ‡‰å¼è¨­è¨ˆ
âœ… æ·±è‰²æ¨¡å¼æ”¯æ´

å°ˆæ¡ˆå·²ç¶“å¯ä»¥æŠ•å…¥ä½¿ç”¨ï¼Œä¸¦ä¸”æ˜“æ–¼æ“´å±•å’Œç¶­è­·ï¼ğŸš€

